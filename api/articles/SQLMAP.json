{"title":"SQLMAP","uid":"62515a446032aa141bac2c9520f4a1eb","slug":"SQLMAP","date":"2022-12-05T07:50:34.000Z","updated":"2022-12-05T08:05:52.377Z","comments":true,"path":"api/articles/SQLMAP.json","keywords":null,"cover":"https://images.pexels.com/photos/13615407/pexels-photo-13615407.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","content":"<h2 id=\"Tamper-概览\"><a href=\"#Tamper-概览\" class=\"headerlink\" title=\"Tamper 概览\"></a><strong>Tamper 概览</strong></h2><table>\n<thead>\n<tr>\n<th>脚本名称</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>apostrophemask.py</td>\n<td>用utf8代替引号</td>\n</tr>\n<tr>\n<td>equaltolike.py</td>\n<td>like 代替等号</td>\n</tr>\n<tr>\n<td>space2dash.py</td>\n<td>绕过过滤‘=’ 替换空格字符（”），（’’ – ‘）后跟一个破折号注释，一个随机字符串和一个新行（’ n’）</td>\n</tr>\n<tr>\n<td>greatest.py</td>\n<td>绕过过滤’&gt;’ ,用GREATEST替换大于号。</td>\n</tr>\n<tr>\n<td>space2hash.py</td>\n<td>空格替换为#号 随机字符串 以及换行符</td>\n</tr>\n<tr>\n<td>apostrophenullencode.py</td>\n<td>绕过过滤双引号，替换字符和双引号。</td>\n</tr>\n<tr>\n<td>halfversionedmorekeywords.py</td>\n<td>当数据库为mysql时绕过防火墙，每个关键字之前添加mysql版本评论</td>\n</tr>\n<tr>\n<td>space2morehash.py</td>\n<td>空格替换为 #号 以及更多随机字符串 换行符</td>\n</tr>\n<tr>\n<td>appendnullbyte.py</td>\n<td>在有效负荷结束位置加载零字节字符编码</td>\n</tr>\n<tr>\n<td>ifnull2ifisnull.py</td>\n<td>绕过对 IFNULL 过滤。 替换类似’IFNULL(A, B)’为’IF(ISNULL(A), B, A)’</td>\n</tr>\n<tr>\n<td>space2mssqlblank.py</td>\n<td>空格替换为其它空符号</td>\n</tr>\n<tr>\n<td>base64encode.py</td>\n<td>用base64编码替换</td>\n</tr>\n<tr>\n<td>space2mssqlhash.py</td>\n<td>替换空格</td>\n</tr>\n<tr>\n<td>modsecurityversioned.py</td>\n<td>过滤空格，包含完整的查询版本注释</td>\n</tr>\n<tr>\n<td>space2mysqlblank.py</td>\n<td>空格替换其它空白符号(mysql)</td>\n</tr>\n<tr>\n<td>between.py</td>\n<td>用between替换大于号（&gt;）</td>\n</tr>\n<tr>\n<td>space2mysqldash.py</td>\n<td>替换空格字符（”）（’ – ‘）后跟一个破折号注释一个新行（’ n’）</td>\n</tr>\n<tr>\n<td>multiplespaces.py</td>\n<td>围绕SQL关键字添加多个空格</td>\n</tr>\n<tr>\n<td>space2plus.py</td>\n<td>用+替换空格</td>\n</tr>\n<tr>\n<td>bluecoat.py</td>\n<td>代替空格字符后与一个有效的随机空白字符的SQL语句。 然后替换=为like</td>\n</tr>\n<tr>\n<td>nonrecursivereplacement.py</td>\n<td>取代predefined SQL关键字with表示 suitable for替代（例如 .replace（“SELECT”、””)） filters</td>\n</tr>\n<tr>\n<td>space2randomblank.py</td>\n<td>代替空格字符（“”）从一个随机的空白字符可选字符的有效集</td>\n</tr>\n<tr>\n<td>sp_password.py</td>\n<td>追加sp_password’从DBMS日志的自动模糊处理的有效载荷的末尾</td>\n</tr>\n<tr>\n<td>chardoubleencode.py</td>\n<td>双url编码(不处理以编码的)</td>\n</tr>\n<tr>\n<td>unionalltounion.py</td>\n<td>替换UNION ALL SELECT UNION SELECT</td>\n</tr>\n<tr>\n<td>charencode.py</td>\n<td>url编码</td>\n</tr>\n<tr>\n<td>randomcase.py</td>\n<td>随机大小写</td>\n</tr>\n<tr>\n<td>unmagicquotes.py</td>\n<td>宽字符绕过 GPC addslashes</td>\n</tr>\n<tr>\n<td>randomcomments.py</td>\n<td>用/**/分割sql关键字</td>\n</tr>\n<tr>\n<td>charunicodeencode.py</td>\n<td>字符串 unicode 编码</td>\n</tr>\n<tr>\n<td>securesphere.py</td>\n<td>追加特制的字符串</td>\n</tr>\n<tr>\n<td>versionedmorekeywords.py</td>\n<td>注释绕过</td>\n</tr>\n<tr>\n<td>space2comment.py</td>\n<td>Replaces space character (‘ ‘) with comments ‘/**/’</td>\n</tr>\n</tbody></table>\n<p><strong>一些妙用:</strong></p>\n<ol>\n<li>避免过多的错误请求被屏蔽 参数：–safe-url,–safe-freq</li>\n<li>二阶SQL注入 参数：–second-order</li>\n<li>从数据库服务器中读取文件 参数：–file-read</li>\n<li>把文件上传到数据库服务器中 参数：–file-write,–file-dest</li>\n<li>爬行网站URL 参数：–crawl</li>\n<li>非交互模式 参数：–batch</li>\n<li>测试WAF/IPS/IDS保护 参数：–identify-waf</li>\n<li>启发式判断注入 参数：–smart（有时对目标非常多的URL进行测试，为节省时间，只对能够快速判断为注入的报错点进行注入，可以使用此参数。）</li>\n<li>-technique<ul>\n<li>B：基于Boolean的盲注(Boolean based blind)</li>\n<li>Q：内联查询(Inline queries)</li>\n<li>T：基于时间的盲注(time based blind)</li>\n<li>U：基于联合查询(Union query based)</li>\n<li>E：基于错误(error based)</li>\n<li>S：栈查询(stack queries)</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"SQLMAP参数中文解释\"><a href=\"#SQLMAP参数中文解释\" class=\"headerlink\" title=\"SQLMAP参数中文解释\"></a>SQLMAP参数中文解释</h2><p>Options（选项）：<br>–version 显示程序的版本号并退出<br>-h, –help 显示此帮助消息并退出<br>-v VERBOSE 详细级别：0-6（默认为1）</p>\n<p>Target（目标）：<br>以下至少需要设置其中一个选项，设置目标URL。</p>\n<p>-d DIRECT 直接连接到数据库。<br>-u URL, –url=URL 目标URL。<br>-l LIST 从Burp或WebScarab代理的日志中解析目标。<br>-r REQUESTFILE 从一个文件中载入HTTP请求。<br>-g GOOGLEDORK 处理Google dork的结果作为目标URL。<br>-c CONFIGFILE 从INI配置文件中加载选项。</p>\n<p>Request（请求）：<br>这些选项可以用来指定如何连接到目标URL。</p>\n<p>–data=DATA 通过POST发送的数据字符串<br>–cookie=COOKIE HTTP Cookie头<br>–cookie-urlencode URL 编码生成的cookie注入<br>–drop-set-cookie 忽略响应的Set - Cookie头信息<br>–user-agent=AGENT 指定 HTTP User - Agent头<br>–random-agent 使用随机选定的HTTP User - Agent头<br>–referer=REFERER 指定 HTTP Referer头<br>–headers=HEADERS 换行分开，加入其他的HTTP头<br>–auth-type=ATYPE HTTP身份验证类型（基本，摘要或NTLM）(Basic, Digest or NTLM)<br>–auth-cred=ACRED HTTP身份验证凭据（用户名:密码）<br>–auth-cert=ACERT HTTP认证证书（key_file，cert_file）<br>–proxy=PROXY 使用HTTP代理连接到目标URL<br>–proxy-cred=PCRED HTTP代理身份验证凭据（用户名：密码）<br>–ignore-proxy 忽略系统默认的HTTP代理<br>–delay=DELAY 在每个HTTP请求之间的延迟时间，单位为秒<br>–timeout=TIMEOUT 等待连接超时的时间（默认为30秒）<br>–retries=RETRIES 连接超时后重新连接的时间（默认3）<br>–scope=SCOPE 从所提供的代理日志中过滤器目标的正则表达式<br>–safe-url=SAFURL 在测试过程中经常访问的url地址<br>–safe-freq=SAFREQ 两次访问之间测试请求，给出安全的URL</p>\n<p>Optimization（优化）：<br>这些选项可用于优化SqlMap的性能。</p>\n<p>-o 开启所有优化开关<br>–predict-output 预测常见的查询输出<br>–keep-alive 使用持久的HTTP（S）连接<br>–null-connection 从没有实际的HTTP响应体中检索页面长度<br>–threads=THREADS 最大的HTTP（S）请求并发量（默认为1）</p>\n<p>Injection（注入）：<br>这些选项可以用来指定测试哪些参数， 提供自定义的注入payloads和可选篡改脚本。</p>\n<p>-p TESTPARAMETER 可测试的参数（S）<br>–dbms=DBMS 强制后端的DBMS为此值<br>–os=OS 强制后端的DBMS操作系统为这个值<br>–prefix=PREFIX 注入payload字符串前缀<br>–suffix=SUFFIX 注入payload字符串后缀<br>–tamper=TAMPER 使用给定的脚本（S）篡改注入数据</p>\n<p>Detection（检测）：<br>这些选项可以用来指定在SQL盲注时如何解析和比较HTTP响应页面的内容。</p>\n<p>–level=LEVEL 执行测试的等级（1-5，默认为1）<br>–risk=RISK 执行测试的风险（0-3，默认为1）<br>–string=STRING 查询时有效时在页面匹配字符串<br>–regexp=REGEXP 查询时有效时在页面匹配正则表达式<br>–text-only 仅基于在文本内容比较网页</p>\n<p>Techniques（技巧）：<br>这些选项可用于调整具体的SQL注入测试。</p>\n<p>–technique=TECH SQL注入技术测试（默认BEUST）<br>–time-sec=TIMESEC DBMS响应的延迟时间（默认为5秒）<br>–union-cols=UCOLS 定列范围用于测试UNION查询注入<br>–union-char=UCHAR 用于暴力猜解列数的字符</p>\n<p>Fingerprint（指纹）：<br>-f, –fingerprint 执行检查广泛的DBMS版本指纹</p>\n<p>Enumeration（枚举）：<br>这些选项可以用来列举后端数据库管理系统的信息、表中的结构和数据。此外，您还可以运行您自己<br>的SQL语句。<br>-b, –banner 检索数据库管理系统的标识<br>–current-user 检索数据库管理系统当前用户<br>–current-db 检索数据库管理系统当前数据库<br>–is-dba 检测DBMS当前用户是否DBA<br>–users 枚举数据库管理系统用户<br>–passwords 枚举数据库管理系统用户密码哈希<br>–privileges 枚举数据库管理系统用户的权限<br>–roles 枚举数据库管理系统用户的角色<br>–dbs 枚举数据库管理系统数据库<br>–tables 枚举的DBMS数据库中的表<br>–columns 枚举DBMS数据库表列<br>–dump 转储数据库管理系统的数据库中的表项<br>–dump-all 转储所有的DBMS数据库表中的条目<br>–search 搜索列（S），表（S）和/或数据库名称（S）<br>-D DB 要进行枚举的数据库名<br>-T TBL 要进行枚举的数据库表<br>-C COL 要进行枚举的数据库列<br>-U USER 用来进行枚举的数据库用户<br>–exclude-sysdbs 枚举表时排除系统数据库<br>–start=LIMITSTART 第一个查询输出进入检索<br>–stop=LIMITSTOP 最后查询的输出进入检索<br>–first=FIRSTCHAR 第一个查询输出字的字符检索<br>–last=LASTCHAR 最后查询的输出字字符检索<br>–sql-query=QUERY 要执行的SQL语句<br>–sql-shell 提示交互式SQL的shell</p>\n<p>Brute force（蛮力）：<br>这些选项可以被用来运行蛮力检查。</p>\n<p>–common-tables 检查存在共同表<br>–common-columns 检查存在共同列</p>\n<p>User-defined function injection（用户自定义函数注入）：<br>这些选项可以用来创建用户自定义函数。</p>\n<p>–udf-inject 注入用户自定义函数<br>–shared-lib=SHLIB 共享库的本地路径</p>\n<p>File system access（访问文件系统）：<br>这些选项可以被用来访问后端数据库管理系统的底层文件系统。</p>\n<p>–file-read=RFILE 从后端的数据库管理系统文件系统读取文件<br>–file-write=WFILE 编辑后端的数据库管理系统文件系统上的本地文件<br>–file-dest=DFILE 后端的数据库管理系统写入文件的绝对路径</p>\n<p>Operating system access（操作系统访问）：<br>这些选项可以用于访问后端数据库管理系统的底层操作系统。</p>\n<p>–os-cmd=OSCMD 执行操作系统命令<br>–os-shell 交互式的操作系统的shell<br>–os-pwn 获取一个OOB shell，meterpreter或VNC<br>–os-smbrelay 一键获取一个OOB shell，meterpreter或VNC<br>–os-bof 存储过程缓冲区溢出利用<br>–priv-esc 数据库进程用户权限提升<br>–msf-path=MSFPATH Metasploit Framework本地的安装路径<br>–tmp-path=TMPPATH 远程临时文件目录的绝对路径</p>\n<p>Windows注册表访问：<br>这些选项可以被用来访问后端数据库管理系统Windows注册表。</p>\n<p>–reg-read 读一个Windows注册表项值<br>–reg-add 写一个Windows注册表项值数据<br>–reg-del 删除Windows注册表键值<br>–reg-key=REGKEY Windows注册表键<br>–reg-value=REGVAL Windows注册表项值<br>–reg-data=REGDATA Windows注册表键值数据<br>–reg-type=REGTYPE Windows注册表项值类型</p>\n<p>General（一般）：</p>\n<p>这些选项可以用来设置一些一般的工作参数。<br>-t TRAFFICFILE 记录所有HTTP流量到一个文本文件中<br>-s SESSIONFILE 保存和恢复检索会话文件的所有数据<br>–flush-session 刷新当前目标的会话文件<br>–fresh-queries 忽略在会话文件中存储的查询结果<br>–eta 显示每个输出的预计到达时间<br>–update 更新SqlMap<br>–save file保存选项到INI配置文件<br>–batch 从不询问用户输入，使用所有默认配置。</p>\n<p>Miscellaneous（杂项）：<br>–beep 发现SQL注入时提醒<br>–check-payload IDS对注入payloads的检测测试<br>–cleanup SqlMap具体的UDF和表清理DBMS<br>–forms 对目标URL的解析和测试形式<br>–gpage=GOOGLEPAGE 从指定的页码使用谷歌dork结果<br>–page-rank Google dork结果显示网页排名（PR）<br>–parse-errors 从响应页面解析数据库管理系统的错误消息<br>–replicate 复制转储的数据到一个sqlite3数据库<br>–tor 使用默认的Tor（Vidalia/ Privoxy/ Polipo）代理地址<br>–wizard 给初级用户的简单向导界面</p>\n","feature":true,"text":"Tamper 概览 脚本名称 作用 apostrophemask.py 用utf8代替引号 equaltolike.py like 代替等号 space2dash.py 绕过过滤‘=’ 替换空格字符（”），（’’ – ‘）后跟一个破折号注释，一个随机字符串和一个新行（’ n’） ...","link":"","photos":[],"count_time":{"symbolsCount":"5.9k","symbolsTime":"5 mins."},"categories":[],"tags":[{"name":"SQLMAP","slug":"SQLMAP","count":1,"path":"api/tags/SQLMAP.json"},{"name":"工具","slug":"工具","count":1,"path":"api/tags/工具.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Tamper-%E6%A6%82%E8%A7%88\"><span class=\"toc-text\">Tamper 概览</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#SQLMAP%E5%8F%82%E6%95%B0%E4%B8%AD%E6%96%87%E8%A7%A3%E9%87%8A\"><span class=\"toc-text\">SQLMAP参数中文解释</span></a></li></ol>","author":{"name":"kiku","slug":"blog-author","avatar":"https://samedi.gitee.io/favicon.png","link":"/","description":"网络运维,linux运维,web渗透","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Google_Hack","uid":"9e69c5ea51f9db13233f1c4f7964588e","slug":"Google-Hack","date":"2022-12-05T08:00:50.000Z","updated":"2022-12-05T08:06:27.955Z","comments":true,"path":"api/articles/Google-Hack.json","keywords":null,"cover":"https://images.pexels.com/photos/12360544/pexels-photo-12360544.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","text":"1.phonebook:+英文姓名作用：搜索电话号码簿，将会返回美国人姓名街道地址和电话号码列表，均真实，对需要大量美国地址的朋友很有用，只要是英文姓名都能找到。例：phonebook:tom另外还有两个小分类：rphonebook:仅搜索住宅用户电话号码簿；bphonebook...","link":"","photos":[],"count_time":{"symbolsCount":"6.1k","symbolsTime":"6 mins."},"categories":[],"tags":[{"name":"google hack","slug":"google-hack","count":1,"path":"api/tags/google-hack.json"}],"author":{"name":"kiku","slug":"blog-author","avatar":"https://samedi.gitee.io/favicon.png","link":"/","description":"网络运维,linux运维,web渗透","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"Nginx学习","uid":"5681e035a73502206ebf637d9b24cd19","slug":"Nginx学习","date":"2022-11-11T07:41:55.000Z","updated":"2022-12-05T08:07:34.013Z","comments":true,"path":"api/articles/Nginx学习.json","keywords":null,"cover":"https://images.pexels.com/photos/10610169/pexels-photo-10610169.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","text":"Nginx快速入门——狂神狂神的笔记： Nginx快速入门-KuangStudy-文章 Kali中的Linux其中nginx的日志文件在/var/log/nginx /var/lib/nginx里面是一些库文件 配置文件在/etc/nginx 启动nginx直接使用命令/etc/...","link":"","photos":[],"count_time":{"symbolsCount":196,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"Nginx","slug":"Nginx","count":1,"path":"api/tags/Nginx.json"}],"author":{"name":"kiku","slug":"blog-author","avatar":"https://samedi.gitee.io/favicon.png","link":"/","description":"网络运维,linux运维,web渗透","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}